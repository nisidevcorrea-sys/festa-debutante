{% extends "base.html" %}

{% block title %}Local da Festa - Festa de 15 Anos{% endblock %}

{% block content %}
<section class="venue-section py-5">
    <div class="container">
        <div class="text-center mb-5 pt-5">
            <h1 class="display-4 fancy-text">
                <i class="fas fa-map-marker-alt"></i> Local da Festa
            </h1>
            <p class="lead text-muted">
                Informações sobre onde e quando será nossa celebração
            </p>
        </div>

        {% if venue %}
        <!-- Date and Time -->
        <div class="row mb-4">
            <div class="col-lg-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-body text-center">
                        <div class="info-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h4>Data</h4>
                        <p class="display-6">{{ venue.event_date.strftime('%d/%m/%Y') }}</p>
                        <p class="text-muted">{{ venue.event_date.strftime('%A') }}</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-body text-center">
                        <div class="info-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h4>Horário</h4>
                        {% if venue.ceremony_time %}
                        <p class="h5 mb-2">
                            <strong>Cerimônia:</strong> {{ venue.ceremony_time }}
                        </p>
                        {% endif %}
                        {% if venue.party_time %}
                        <p class="h5 mb-0">
                            <strong>Festa:</strong> {{ venue.party_time }}
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Venue Details -->
        <div class="card venue-details-card mb-4">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h3 class="mb-3">
                            <i class="fas fa-building"></i> {{ venue.venue_name or 'Local da Festa' }}
                        </h3>
                        <p class="h5 mb-3">
                            <i class="fas fa-map-marker-alt text-danger"></i> 
                            {{ venue.address }}
                        </p>
                        <p class="text-muted mb-2">
                            {{ venue.city }}{% if venue.state %}, {{ venue.state }}{% endif %}
                            {% if venue.zip_code %} - CEP: {{ venue.zip_code }}{% endif %}
                        </p>
                        {% if venue.google_maps_link %}
                        <a href="{{ venue.google_maps_link }}" target="_blank" class="btn btn-primary mt-3">
                            <i class="fas fa-directions"></i> Abrir no Google Maps
                        </a>
                        {% endif %}
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="venue-icon">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map -->
        {% if venue.google_maps_link %}
        <div class="card map-card mb-4">
            <div class="card-body p-0">
                <div class="map-container">
                    <iframe 
                        src="{{ venue.google_maps_link.replace('place', 'embed') if '/maps' in venue.google_maps_link else venue.google_maps_link }}"
                        width="100%" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Dress Code and Theme -->
        <div class="row mb-4">
            {% if venue.dress_code %}
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-body text-center">
                        <div class="info-icon">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <h4>Traje</h4>
                        <p class="h5">{{ venue.dress_code }}</p>
                    </div>
                </div>
            </div>
            {% endif %}
            {% if venue.theme %}
            <div class="col-md-6 mb-4">
                <div class="card info-card h-100">
                    <div class="card-body text-center">
                        <div class="info-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h4>Tema</h4>
                        <p class="h5">{{ venue.theme }}</p>
                        {% if venue.color_scheme %}
                        <p class="text-muted">Cores: {{ venue.color_scheme }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Additional Info -->
        {% if venue.additional_info %}
        <div class="card additional-info-card">
            <div class="card-body">
                <h4 class="mb-3">
                    <i class="fas fa-info-circle"></i> Informações Adicionais
                </h4>
                <p class="mb-0">{{ venue.additional_info }}</p>
            </div>
        </div>
        {% endif %}

        {% else %}
        <!-- No Venue Info -->
        <div class="alert alert-info text-center">
            <i class="fas fa-info-circle fa-3x mb-3"></i>
            <h4>Informações em breve!</h4>
            <p>Estamos finalizando os detalhes do local. Volte em breve para mais informações!</p>
        </div>
        {% endif %}

        <!-- Help Section -->
        <div class="card help-card mt-5">
            <div class="card-body text-center p-5">
                <i class="fas fa-question-circle fa-3x mb-3"></i>
                <h4 class="mb-3">Precisa de Ajuda?</h4>
                <p class="lead">
                    Se tiver dúvidas sobre como chegar ou qualquer outra informação, 
                    não hesite em entrar em contato conosco!
                </p>
                <div class="mt-4">
                    <a href="https://wa.me/5511999999999" target="_blank" class="btn btn-success btn-lg">
                        <i class="fab fa-whatsapp"></i> Entre em Contato
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.venue-section {
    min-height: 100vh;
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
}

.info-card {
    border: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s;
}

.info-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
}

.info-icon {
    font-size: 4rem;
    color: #667eea;
    margin-bottom: 20px;
}

.venue-icon {
    font-size: 6rem;
    color: #667eea;
    opacity: 0.3;
}

.venue-details-card {
    border: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    border-left: 5px solid #667eea;
}

.map-card {
    border: none;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
}

.map-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
    height: 0;
    overflow: hidden;
}

.map-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.additional-info-card {
    background: linear-gradient(135deg, #667eea10 0%, #764ba210 100%);
    border: 2px solid #667eea;
}

.help-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
}

.fancy-text {
    font-family: 'Great Vibes', cursive;
}
</style>
{% endblock %}
